export function bufferToWav(e,n){let t,a,f=e.numberOfChannels,r=n*f*2+44,o=new ArrayBuffer(r),u=new DataView(o),i=[],s=0,l=0;for(m(1179011410),m(r-8),m(1163280727),m(544501094),m(16),h(1),h(f),m(e.sampleRate),m(2*e.sampleRate*f),h(2*f),h(16),m(1635017060),m(r-l-4),t=0;t<e.numberOfChannels;t++)i.push(e.getChannelData(t));for(;l<n;){for(t=0;t<f;t++)a=Math.max(-1,Math.min(1,i[t][l])),a=0|(.5+a<0?32768*a:32767*a),u.setInt16(44+s,a,!0),s+=2;l++}return new Blob([o],{type:"audio/wav"});function h(e){u.setUint16(l,e,!0),l+=2}function m(e){u.setUint32(l,e,!0),l+=4}}
//# sourceMappingURL=WavEncoder.js.map